{% extends "base.html" %}

{% block content %}
<div class="container" style="max-width: 900px; margin: 32px auto;">
    <h2 style="margin-bottom: 20px;">Workout History</h2>
    {% if sessions and sessions|length > 0 %}
        <div class="history-table-wrapper" style="overflow-x:auto;">
            <table class="history-table" style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background-color: #f5f5f5;">
                        <th style="padding: 10px; border-bottom: 2px solid #ccc;">Date</th>
                        <th style="padding: 10px; border-bottom: 2px solid #ccc;">Workout</th>
                        <th style="padding: 10px; border-bottom: 2px solid #ccc;">Exercises</th>
                        <th style="padding: 10px; border-bottom: 2px solid #ccc;">Weights</th>
                        <th style="padding: 10px; border-bottom: 2px solid #ccc;">Notes / Details</th>
                    </tr>
                </thead>
                <tbody>
                    {% for session in sessions %}
                    <tr>
                        <td style="padding: 10px; border-bottom: 1px solid #eee; white-space:nowrap;">
                            {{ session.date.strftime('%Y-%m-%d') if session.date else '' }}
                        </td>
                        <td style="padding: 10px; border-bottom: 1px solid #eee;">
                            {{ session.workout_name or '—' }}
                        </td>
                        <td style="padding: 10px; border-bottom: 1px solid #eee;">
                            <ul style="margin: 0; padding-left: 16px;">
                            {% for exercise in session.exercises %}
                                <li>
                                    {{ exercise.name or '—' }}
                                </li>
                            {% endfor %}
                            </ul>
                        </td>
                        <td style="padding: 10px; border-bottom: 1px solid #eee;">
                            <ul style="margin: 0; padding-left: 16px;">
                            {% for exercise in session.exercises %}
                                <li>
                                    {% if exercise.weight %}{{ exercise.weight }}{% else %}—{% endif %}
                                </li>
                            {% endfor %}
                            </ul>
                        </td>
                        <td style="padding: 10px; border-bottom: 1px solid #eee;">
                            {{ session.notes or session.details or '—' }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div style="margin-top: 32px; color: #666; text-align: center; font-size: 1.2em;">
            No workout history found yet.
        </div>
    {% endif %}
</div>
{% endblock %}
